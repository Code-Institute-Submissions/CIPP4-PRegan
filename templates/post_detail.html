{% extends 'base.html' %}
{% block content %}
  <body>
    <h1>{{ post.title }}</h1>
    <p>Author: {{ post.author }}</p>
    <p>Created on: {{ post.created_on }}</p>

    {% if post.imagepost %}
      <img src="{{ post.imagepost.image.url }}" alt="Image Post">
    {% endif %}

    {% if post.videopost %}
      <video controls>
        <source src="{{ post.videopost.video.url }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    {% endif %}

    <p>{{ post.content }}</p>

    <h2>Comments</h2>
    {% if commented %}
      <div class="alert alert-success" role="alert">
        Your comment is awaiting approval
      </div>
    {% else %}
      {% if user.is_authenticated %}
        <h3>Leave a comment:</h3>
        <p>Posting as: {{ user.username }}</p>
        <form method="post" class="mt-3">
          {% csrf_token %}
          <div class="form-group">
            <h4>Content</h4>
            {{ comment_form.content }}
          </div>
          <button type="submit" class="btn btn-primary mt-3">Submit</button>
        </form>
      {% endif %}
    {% endif %}

    <h2 class="comments-heading">Comments</h2>
    {% if comments %}
      <div class="comments">
        {% for comment in comments %}
          <div class="comment">
            <p class="author">{{ comment.author }} on {{ comment.created_on|date }} wrote: {{ comment.content}} </p>
            
           
          </div>
        {% endfor %}
      </div>
      {% else %}
      <p>No comments yet.</p>
    {% endif %}
  </body>
{% endblock content %}
</html>

